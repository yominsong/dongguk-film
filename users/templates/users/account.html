{% extends "base.html" %}
{% load static %}
{% load tags %}
{% block meta %}
    <meta property="og:title" content="내 계정 - 디닷에프 | D-dot-f">
    <meta property="og:url" content="{% url 'users:account' %}">
    <meta name="robots" content="noindex,nofollow">
{% endblock meta %}
{% block title %}
    내 계정 - 디닷에프
{% endblock title %}
{% block body %}
    <!-- Hero -->
    <div class="relative sm:pt-6 lg:pt-8">
        <div class="max-w-7xl mx-auto sm:px-6 lg:px-8">
            <div class="relative shadow-xl sm:rounded-xl overflow-hidden">
                <div class="absolute inset-0" aria-hidden="true">
                    <div class="mix-blend-multiply w-full h-full">
                        <!-- Swiper -->
                        <div class="swiper mySwiper w-full h-full">
                            <div class="swiper-wrapper">
                                {% for image in image_list|shuffle %}
                                    <div class="swiper-slide">
                                        <img class="object-cover w-full h-full grayscale"
                                             height=""
                                             width=""
                                             alt=""
                                             src="{{ image }}" />
                                    </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                    <div class="absolute inset-0 bg-flamingo-700 mix-blend-multiply"></div>
                </div>
                <div class="relative px-4 py-16 sm:px-6 sm:py-24 lg:py-32 lg:px-8">
                    <h1 class="text-center text-white text-3xl font-extrabold tracking-tight sm:text-4xl lg:text-5xl">내 계정</h1>
                    <p class="mt-4 sm:mt-6 max-w-lg mx-auto text-center text-base sm:text-lg lg:text-xl text-flamingo-100 sm:max-w-3xl">
                        계정 정보, 서비스 이용 내역 관리
                    </p>
                </div>
            </div>
        </div>
    </div>
    <!-- Information -->
    <div class="mt-8 relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between gap-1">
            <div class="flex gap-2 text-gray-600">
                <svg xmlns="http://www.w3.org/2000/svg"
                     viewBox="0 0 24 24"
                     fill="currentColor"
                     class="w-6 h-6 text-gray-500"
                     aria-hidden="true">
                    <path fill-rule="evenodd" d="M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" clip-rule="evenodd" />
                </svg>
                <h2 class="text-lg font-medium leading-6">내 회원정보</h2>
            </div>
            <button class="class-adjust-info cursor-pointer ml-2 flex-shrink-0 rounded-md text-gray-400 hover:text-gray-500 focus:text-gray-500 focus:df-focus-ring-offset-gray"
                    aria-label="내 회원정보 수정하기">
                <svg xmlns="http://www.w3.org/2000/svg"
                     viewBox="0 0 24 24"
                     fill="currentColor"
                     class="w-6 h-6"
                     aria-hidden="true">
                    <path d="M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z" />
                    <path d="M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z" />
                </svg>
            </button>
        </div>
        <dl class="mt-5 grid grid-cols-1 gap-5 lg:grid-cols-3">
            <div class="overflow-hidden rounded-md bg-white px-4 py-5 shadow sm:p-6 focus:df-focus-ring-inset"
                 tabindex="0">
                <dt class="truncate text-sm font-medium text-gray-500">학번, 성명</dt>
                <dd class="mt-1 text-2xl sm:text-3xl font-semibold tracking-tight text-gray-900 truncate">
                    <span id="id_user_student_id"
                          data-original="{{ user.username }}"
                          aria-label="학번">{{ masked_student_id }}</span>, <span id="id_user_name"
       data-original="{{ user.metadata.name }}"
       aria-label="성명">{{ masked_name }}</span>
                </dd>
            </div>
            <div class="overflow-hidden rounded-md bg-white px-4 py-5 shadow sm:p-6 focus:df-focus-ring-inset"
                 tabindex="0">
                <dt class="truncate text-sm font-medium text-gray-500">이메일 주소</dt>
                <dd class="pulse-off mt-1 text-2xl sm:text-3xl font-semibold tracking-tight text-gray-900 truncate">
                    <span id="id_user_email"
                          data-original="{{ user.email }}"
                          aria-label="이메일 주소">{{ masked_email }}</span>
                </dd>
            </div>
            <div class="overflow-hidden rounded-md bg-white px-4 py-5 shadow sm:p-6 focus:df-focus-ring-inset"
                 tabindex="0">
                <dt class="truncate text-sm font-medium text-gray-500">휴대전화 번호</dt>
                <dd class="pulse-off mt-1 text-2xl sm:text-3xl font-semibold tracking-tight text-gray-900 truncate">
                    <span id="id_user_phone"
                          data-original="{{ user.metadata.phone }}"
                          aria-label="휴대전화 번호">{{ masked_phone }}</span>
                </dd>
            </div>
        </dl>
        <p class="pulse-off mt-3 text-sm text-right text-gray-400">{{ date_joined }} 가입</p>
    </div>
    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 gap-8 lg:gap-5 lg:grid-cols-2">
            <!-- Facility -->
            <div>
                <div class="flex items-center justify-between">
                    <a class="group flex gap-2 text-gray-600 rounded-md hover:text-gray-900 focus:df-focus-ring-offset-gray"
                       href="{% url 'equipment:equipment' %}"
                       target="_self">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             viewBox="0 0 24 24"
                             fill="currentColor"
                             class="w-6 h-6 text-gray-500 group-hover:text-gray-700">
                            <path d="M12.378 1.602a.75.75 0 0 0-.756 0L3 6.632l9 5.25 9-5.25-8.622-5.03ZM21.75 7.93l-9 5.25v9l8.628-5.032a.75.75 0 0 0 .372-.648V7.93ZM11.25 22.18v-9l-9-5.25v8.57a.75.75 0 0 0 .372.648l8.628 5.033Z" />
                        </svg>
                        <h3 id="id_facility_list_title" class="text-lg font-medium leading-6">내 시설예약</h3>
                    </a>
                    <div id="id_facility_pagination"
                         class="hidden items-center justify-end gap-6"
                         hidden>
                        <button class="class-prev rounded-md text-gray-400 hover:text-gray-500 focus:text-gray-500 focus:df-focus-ring-offset-gray disabled:hover:text-gray-400 disabled:cursor-not-allowed"
                                type="button"
                                disabled>
                            <svg xmlns="http://www.w3.org/2000/svg"
                                 fill="none"
                                 viewBox="0 0 24 24"
                                 stroke-width="1.5"
                                 stroke="currentColor"
                                 class="w-6 h-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18" />
                            </svg>
                        </button>
                        <button class="class-next rounded-md text-gray-400 hover:text-gray-500 focus:text-gray-500 focus:df-focus-ring-offset-gray disabled:hover:text-gray-400 disabled:cursor-not-allowed"
                                type="button"
                                disabled>
                            <svg xmlns="http://www.w3.org/2000/svg"
                                 fill="none"
                                 viewBox="0 0 24 24"
                                 stroke-width="1.5"
                                 stroke="currentColor"
                                 class="w-6 h-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3" />
                            </svg>
                        </button>
                    </div>
                </div>
                <ul id="id_facility_list"
                    role="list"
                    class="flex flex-col mt-5 lg:min-h-[452px] divide-y divide-gray-100 overflow-y-auto bg-white shadow rounded-md">
                    <li class="flex-grow flex items-center justify-center px-4 py-4 text-gray-500 text-sm font-medium sm:px-6">
                        내가 예약 신청한 시설을 찾고 있어요.
                    </li>
                </ul>
            </div>
            <!-- Project -->
            <div>
                <div class="flex items-center justify-between">
                    <a class="group flex gap-2 text-gray-600 rounded-md hover:text-gray-900 focus:df-focus-ring-offset-gray"
                       href="{% url 'project:project' %}"
                       target="_self">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             viewBox="0 0 24 24"
                             fill="currentColor"
                             class="w-6 h-6 text-gray-500 group-hover:text-gray-700"
                             aria-hidden="true">
                            <path fill-rule="evenodd" d="M1.5 5.625c0-1.036.84-1.875 1.875-1.875h17.25c1.035 0 1.875.84 1.875 1.875v12.75c0 1.035-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 011.5 18.375V5.625zm1.5 0v1.5c0 .207.168.375.375.375h1.5a.375.375 0 00.375-.375v-1.5a.375.375 0 00-.375-.375h-1.5A.375.375 0 003 5.625zm16.125-.375a.375.375 0 00-.375.375v1.5c0 .207.168.375.375.375h1.5A.375.375 0 0021 7.125v-1.5a.375.375 0 00-.375-.375h-1.5zM21 9.375A.375.375 0 0020.625 9h-1.5a.375.375 0 00-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 00.375-.375v-1.5zm0 3.75a.375.375 0 00-.375-.375h-1.5a.375.375 0 00-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 00.375-.375v-1.5zm0 3.75a.375.375 0 00-.375-.375h-1.5a.375.375 0 00-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 00.375-.375v-1.5zM4.875 18.75a.375.375 0 00.375-.375v-1.5a.375.375 0 00-.375-.375h-1.5a.375.375 0 00-.375.375v1.5c0 .207.168.375.375.375h1.5zM3.375 15h1.5a.375.375 0 00.375-.375v-1.5a.375.375 0 00-.375-.375h-1.5a.375.375 0 00-.375.375v1.5c0 .207.168.375.375.375zm0-3.75h1.5a.375.375 0 00.375-.375v-1.5A.375.375 0 004.875 9h-1.5A.375.375 0 003 9.375v1.5c0 .207.168.375.375.375zm4.125 0a.75.75 0 000 1.5h9a.75.75 0 000-1.5h-9z" clip-rule="evenodd" />
                        </svg>
                        <h3 id="id_project_list_title" class="text-lg font-medium leading-6">내 프로젝트</h3>
                    </a>
                    <div id="id_project_pagination"
                         class="hidden items-center justify-end gap-6"
                         hidden>
                        <button class="class-prev rounded-md text-gray-400 hover:text-gray-500 focus:text-gray-500 focus:df-focus-ring-offset-gray disabled:hover:text-gray-400 disabled:cursor-not-allowed"
                                type="button"
                                disabled>
                            <svg xmlns="http://www.w3.org/2000/svg"
                                 fill="none"
                                 viewBox="0 0 24 24"
                                 stroke-width="1.5"
                                 stroke="currentColor"
                                 class="w-6 h-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18" />
                            </svg>
                        </button>
                        <button class="class-next rounded-md text-gray-400 hover:text-gray-500 focus:text-gray-500 focus:df-focus-ring-offset-gray disabled:hover:text-gray-400 disabled:cursor-not-allowed"
                                type="button"
                                disabled>
                            <svg xmlns="http://www.w3.org/2000/svg"
                                 fill="none"
                                 viewBox="0 0 24 24"
                                 stroke-width="1.5"
                                 stroke="currentColor"
                                 class="w-6 h-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3" />
                            </svg>
                        </button>
                    </div>
                </div>
                <ul id="id_project_list"
                    role="list"
                    class="flex flex-col mt-5 lg:min-h-[452px] divide-y divide-gray-100 overflow-y-auto bg-white shadow rounded-md">
                    <li class="flex-grow flex items-center justify-center px-4 py-4 text-gray-500 text-sm font-medium sm:px-6">
                        내가 참여한 프로젝트를 찾고 있어요.
                    </li>
                </ul>
            </div>
            <!-- DF link -->
            <div class="lg:mt-3">
                <div class="flex items-center justify-between">
                    <a class="group flex gap-2 text-gray-600 rounded-md hover:text-gray-900 focus:df-focus-ring-offset-gray"
                       href="{% url 'dflink:dflink' %}"
                       target="_self">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             fill="none"
                             viewBox="0 0 24 24"
                             stroke-width="1.5"
                             stroke="currentColor"
                             class="w-6 h-6 text-gray-500 group-hover:text-gray-700"
                             aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244" />
                        </svg>
                        <h3 id="id_dflink_list_title" class="text-lg font-medium leading-6">내 동영링크</h3>
                    </a>
                    <div id="id_dflink_pagination"
                         class="hidden items-center justify-end gap-6"
                         hidden>
                        <button class="class-prev rounded-md text-gray-400 hover:text-gray-500 focus:text-gray-500 focus:df-focus-ring-offset-gray disabled:hover:text-gray-400 disabled:cursor-not-allowed"
                                type="button"
                                disabled>
                            <svg xmlns="http://www.w3.org/2000/svg"
                                 fill="none"
                                 viewBox="0 0 24 24"
                                 stroke-width="1.5"
                                 stroke="currentColor"
                                 class="w-6 h-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18" />
                            </svg>
                        </button>
                        <button class="class-next rounded-md text-gray-400 hover:text-gray-500 focus:text-gray-500 focus:df-focus-ring-offset-gray disabled:hover:text-gray-400 disabled:cursor-not-allowed"
                                type="button"
                                disabled>
                            <svg xmlns="http://www.w3.org/2000/svg"
                                 fill="none"
                                 viewBox="0 0 24 24"
                                 stroke-width="1.5"
                                 stroke="currentColor"
                                 class="w-6 h-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3" />
                            </svg>
                        </button>
                    </div>
                </div>
                <ul id="id_dflink_list"
                    role="list"
                    class="flex flex-col mt-5 lg:min-h-[452px] divide-y divide-gray-100 overflow-y-auto bg-white shadow rounded-md">
                    <li class="flex-grow flex items-center justify-center px-4 py-4 text-gray-500 text-sm font-medium sm:px-6">
                        내가 만든 동영링크를 찾고 있어요.
                    </li>
                </ul>
            </div>
            <!-- Notice -->
            <div class="lg:mt-3">
                <div class="flex items-center justify-between">
                    <a class="group flex gap-2 text-gray-600 rounded-md hover:text-gray-900 focus:df-focus-ring-offset-gray"
                       href="{% url 'notice:notice' %}"
                       target="_self">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             viewBox="0 0 24 24"
                             fill="currentColor"
                             class="w-6 h-6 text-gray-500 group-hover:text-gray-700"
                             aria-hidden="true">
                            <path fill-rule="evenodd" d="M4.848 2.771A49.144 49.144 0 0112 2.25c2.43 0 4.817.178 7.152.52 1.978.292 3.348 2.024 3.348 3.97v6.02c0 1.946-1.37 3.678-3.348 3.97a48.901 48.901 0 01-3.476.383.39.39 0 00-.297.17l-2.755 4.133a.75.75 0 01-1.248 0l-2.755-4.133a.39.39 0 00-.297-.17 48.9 48.9 0 01-3.476-.384c-1.978-.29-3.348-2.024-3.348-3.97V6.741c0-1.946 1.37-3.68 3.348-3.97zM6.75 8.25a.75.75 0 01.75-.75h9a.75.75 0 010 1.5h-9a.75.75 0 01-.75-.75zm.75 2.25a.75.75 0 000 1.5H12a.75.75 0 000-1.5H7.5z" clip-rule="evenodd" />
                        </svg>
                        <h3 id="id_notice_list_title"
                            class="text-lg font-medium leading-6 text-gray-600">내 공지사항</h3>
                    </a>
                    <div id="id_notice_pagination"
                         class="hidden items-center justify-end gap-6">
                        <button class="class-prev rounded-md text-gray-400 hover:text-gray-500 focus:text-gray-500 focus:df-focus-ring-offset-gray disabled:hover:text-gray-400 disabled:cursor-not-allowed"
                                type="button"
                                disabled>
                            <svg xmlns="http://www.w3.org/2000/svg"
                                 fill="none"
                                 viewBox="0 0 24 24"
                                 stroke-width="1.5"
                                 stroke="currentColor"
                                 class="w-6 h-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18" />
                            </svg>
                        </button>
                        <button class="class-next rounded-md text-gray-400 hover:text-gray-500 focus:text-gray-500 focus:df-focus-ring-offset-gray disabled:hover:text-gray-400 disabled:cursor-not-allowed"
                                type="button"
                                disabled>
                            <svg xmlns="http://www.w3.org/2000/svg"
                                 fill="none"
                                 viewBox="0 0 24 24"
                                 stroke-width="1.5"
                                 stroke="currentColor"
                                 class="w-6 h-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3" />
                            </svg>
                        </button>
                    </div>
                </div>
                <ul id="id_notice_list"
                    role="list"
                    class="flex flex-col mt-5 lg:min-h-[452px] divide-y divide-gray-100 overflow-y-auto bg-white shadow rounded-md">
                    <li class="flex-grow flex items-center justify-center px-4 py-4 text-gray-500 text-sm font-medium sm:px-6">
                        내가 작성한 공지사항을 찾고 있어요.
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!-- Modal -->
    {% if user.is_authenticated %}
        {% include "users/account_modal.html" %}
    {% endif %}
    <script src="{% static 'js/forms.js' %}"></script>
    <script src="{% static 'js/account.js' %}"></script>
    <script src="{% static 'js/global.js' %}"></script>
{% endblock body %}
